<div class="dashboard-container">
    <div class="sidebar">
      <div class="logo-section">
        <img src="./assets/logo.png" alt="Logo" width="100%" height="170px">
      </div>
      <ul class="navigation-menu">
        
        <li><a href="dashboard">Dashboard</a></li>
        <li><a href="department">Department</a></li>
        <li><a href="staff">Staff</a></li>
        <li><a href="subjects">Subjects</a></li>
        <li><a href="semester">Semester</a></li>
        <li><a href="student">Student</a></li>
        <li><a href="attendance">Attendance</a></li>
        <li><a href="marks">Marks</a></li>
        <li><a href="reports">Reports</a></li>
      </ul>
    </div>
    <div class="content">
        <div class="top-bar">
            <button (click)="navBack()" class="update-button">Back</button>
        </div>
        
        
        
        <div class="add-student-button">
          <button (click)="showAddStudentForm()" class="add-button">Add Student</button>
        </div>

        <div *ngIf="showAddStudent">
          
          <h2>Add Student</h2>
          <form (submit)="createStudent(studentForm.value)" [formGroup]="studentForm" class="add-student-form">
            
              <table>
                <tr>
                  <legend>Student Details</legend>
                </tr>

                <tr>
        
                    <td>
                      <label>
                        First Name:
                      </label>
                    </td>
                    <td>
                      <input type="text" formControlName="firstName" name="firstName" required>
                    </td>
                    <td>
                      <label>
                        Middle Name:
                      </label>
                    </td>
                    <td>
                      <input type="text" formControlName="middleName" name="middleName" required>
                    </td>
                    <td>
                      <label>
                        Last Name:
                      </label>
                    </td>
                    <td>
                      <input type="text" formControlName="lastName" name="lastName" required>
                    </td>
                  
                </tr>

                <tr>
                  
                    <td>
                      <label>
                        USN No:
                        
                      </label>
                    </td>
                    <td>
                      <input type="text" formControlName="usnno" name="usnno" required>
                    </td>
                    <td>
                      <label>
                        Phone:
                      </label>
                    </td>
                    <td>
                        <input type="text" formControlName="phone" name="phone" required>
                    </td>
                    <td>
                      <label>
                        Email:
                      </label>
                    </td>
                    <td>
                      <input type="text" formControlName="email" name="email" required>
                    </td>
                  
                </tr>

                <tr>
                  
                  <td>
                    <label >
                      Gender:
                     
                    </label>
                  </td>
                  <td>
                     <input type="text" formControlName="gender" name="gender" required>
                  </td>
                  <td>
                    <label>
                      Year Of Admission:
                      
                    </label>
                  </td>
                  <td>
                    <input type="text" formControlName="yearOfAdmission" name="yearOfAdmission" required>
                  </td>
                  <td>
                      <label>
                      DOB:
                      
                    </label>
                  </td>
                  <td>
                    <input type="text" formControlName="dob" name="DOB" required>
                  </td>
                    
                  
                </tr> 
            

                <!-- <tr>
                  <legend>Adress</legend>
                </tr> -->

                <tr>
                  <td>
                    <label>
                      Address:
                      
                    </label>
                  </td>
                  <td>
                    <input type="text" formControlName="address" name="address" required>
                  </td>
                  <td>
                    <label>
                      Teacher Guardian:
                    </label>
                  </td>
                  <td>
                    <input type="text" formControlName="teacherGuardian" name="teacherGuardian" required>
                  </td>
                
                
                <tr>
                  <legend>Parent Details</legend>
                </tr>

                <tr>
                  <td>
                    <label>
                      Father's Name:
                    </label>
                  </td>
                  <td>
                    <input type="text" formControlName="fatherName" name="fatherName" required>
                  </td>
                  <td>
                    <label>
                      Mother's Name:
                    </label>
                  </td>
                  <td>
                    <input type="text" formControlName="motherName" name="motherName" required>
                  </td>
                  <td>
                    <label >
                      Parent Email:
                    </label>
                  </td>
                  <td><input type="text" formControlName="parentEmail" name="parentEmail" required></td>
                </tr>
                <tr>
                  <td>
                    <label >
                      Father's Phone no.:
                    </label>
                  </td>
                  <td>
                    <input type="text" formControlName="fatherPhone" name="fatherPhone" required>
                  </td>
                  <td>
                    <label >
                      Mother's Phone no.:
                    </label>
                  </td>
                  <td><input type="text" formControlName="motherPhone" name="motherPhone" required></td>
                </tr>
              </table>

            <button type="submit" class="save-button">Save</button>
          </form>
        </div>

        
        <div class="table2">
          <h2>Student Details</h2>

          <button (click)="getStudents()" class="common-button">Remove Filters</button>
          <button (click)="getStudentsByFirstName()" class="common-button">Sort By First Name</button>
          <button (click)="getStudentsByUSNNo()" class="common-button">Sort By USN No.</button>

        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>USN No.</th>
              <th>First Name</th>
              <th>Last Name</th>
              <th>Email</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let student of students">
              <td>{{ student.studentId }}</td>
              <td>{{ student.usnno}}</td>
              <td>{{ student.firstName }}</td>
              <td>{{ student.lastName }}</td>
              <td>{{ student.email }}</td>
              <td>
                <button class="view-button" (click)="viewDetails(student.studentId)">View Full Details</button>
                <button class="update-button" (click)="updateDetails(student.studentId, student)">Update</button>
                <button class="delete-button" (click)="deleteDetails(student.studentId)">Delete</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>


    </div>
  </div>

